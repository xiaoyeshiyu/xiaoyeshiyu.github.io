<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.1.1">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="S_5aoPFd3QQihrUOLiKdVR0Mj4fj6n6qJojwyjj9cAY">
  <meta name="msvalidate.01" content="9032A67FCF787F07CB04374E59E518A9">
  <meta name="baidu-site-verification" content="code-Onlniop0d6">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.css" integrity="sha256-6cQIC71/iBIYXFK+0RHAvwmjwWzkWd+r7v/BX3/vZDc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.xiaoyeshiyu.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.19.1","exturl":true,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="近期接手的项目大多是老 PHP 语言的项目，需要维护和升级，甚至有些需要使用 golang 重构，以前零散学习的 PHP 就有点不够用，这里重新学习一遍，做笔记记录一下。">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP 学习笔记">
<meta property="og:url" content="https://www.xiaoyeshiyu.com/post/c2140f2a.html">
<meta property="og:site_name" content="小夜时雨">
<meta property="og:description" content="近期接手的项目大多是老 PHP 语言的项目，需要维护和升级，甚至有些需要使用 golang 重构，以前零散学习的 PHP 就有点不够用，这里重新学习一遍，做笔记记录一下。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F16-29-44-image-20240623162944743.png">
<meta property="og:image" content="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F22-12-13-image-20240623221213270.png">
<meta property="og:image" content="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F23-24-59-image-20240623232459298.png">
<meta property="article:published_time" content="2024-06-22T16:00:00.000Z">
<meta property="article:modified_time" content="2024-06-30T09:00:42.281Z">
<meta property="article:author" content="Mitaka xu">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F16-29-44-image-20240623162944743.png">


<link rel="canonical" href="https://www.xiaoyeshiyu.com/post/c2140f2a.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://www.xiaoyeshiyu.com/post/c2140f2a.html","path":"post/c2140f2a.html","title":"PHP 学习笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>PHP 学习笔记 | 小夜时雨</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MBVJ11TVHH"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-MBVJ11TVHH","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?573725610fbc6ff9b42032bd13615370"></script>







  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start --><script src="https://cdn.jsdelivr.net/gh/BP-Devteam/sitescansense/s3module.min.js"></script><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="小夜时雨" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">小夜时雨</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">君子敬其在己者，而不慕其在天者，是以日进也。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83"><span class="nav-number">1.1.</span> <span class="nav-text">搭建环境</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80"><span class="nav-number">2.</span> <span class="nav-text">基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95%E5%88%9D%E8%AF%86"><span class="nav-number">2.1.</span> <span class="nav-text">语法初识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%A0%87%E8%AF%86"><span class="nav-number">2.1.1.</span> <span class="nav-text">代码标识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">2.1.2.</span> <span class="nav-text">注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-number">2.1.3.</span> <span class="nav-text">分隔符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">2.2.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%EF%BC%88%E8%B6%85%E7%BA%A7%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%89"><span class="nav-number">2.2.1.</span> <span class="nav-text">预定义变量（超级全局变量）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%98%E9%87%8F"><span class="nav-number">2.2.2.</span> <span class="nav-text">可变变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E4%BC%A0%E5%80%BC"><span class="nav-number">2.2.3.</span> <span class="nav-text">变量传值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-number">2.3.</span> <span class="nav-text">常量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%B8%B8%E9%87%8F"><span class="nav-number">2.3.1.</span> <span class="nav-text">系统常量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AB%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.1.</span> <span class="nav-text">八种数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">2.4.2.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD"><span class="nav-number">2.4.3.</span> <span class="nav-text">类型判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.4.</span> <span class="nav-text">整数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.5.</span> <span class="nav-text">浮点类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.6.</span> <span class="nav-text">布尔类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.</span> <span class="nav-text">运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.1.</span> <span class="nav-text">赋值运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.2.</span> <span class="nav-text">算数运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.3.</span> <span class="nav-text">比较运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.4.</span> <span class="nav-text">逻辑运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.5.</span> <span class="nav-text">连接运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%8A%91%E5%88%B6%E7%AC%A6"><span class="nav-number">2.5.6.</span> <span class="nav-text">错误抑制符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%89"><span class="nav-number">2.5.7.</span> <span class="nav-text">三目运算符（三元运算符）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A9%BA%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.8.</span> <span class="nav-text">空合并运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%AF%94%E8%BE%83%E7%AC%A6"><span class="nav-number">2.5.9.</span> <span class="nav-text">组合比较符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E6%93%8D%E4%BD%9C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.10.</span> <span class="nav-text">自操作运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A0%81"><span class="nav-number">2.5.11.</span> <span class="nav-text">计算机码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.12.</span> <span class="nav-text">位运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">2.5.13.</span> <span class="nav-text">运算优先级</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">2.6.</span> <span class="nav-text">流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%88%86%E7%B1%BB"><span class="nav-number">2.6.1.</span> <span class="nav-text">控制分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="nav-number">2.6.2.</span> <span class="nav-text">顺序结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="nav-number">2.6.3.</span> <span class="nav-text">分支结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#if-%E5%88%86%E6%94%AF"><span class="nav-number">2.6.3.1.</span> <span class="nav-text">if 分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#switch-%E5%88%86%E6%94%AF"><span class="nav-number">2.6.3.2.</span> <span class="nav-text">switch 分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="nav-number">2.6.4.</span> <span class="nav-text">循环结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="nav-number">2.6.4.1.</span> <span class="nav-text">循环控制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E6%9B%BF%E4%BB%A3%E8%AF%AD%E6%B3%95"><span class="nav-number">2.6.5.</span> <span class="nav-text">流程控制替代语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="nav-number">2.7.</span> <span class="nav-text">文件包含</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#include-%E5%92%8C-require-%E5%8C%BA%E5%88%AB"><span class="nav-number">2.7.1.</span> <span class="nav-text">include  和 require 区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E8%B7%AF%E5%BE%84"><span class="nav-number">2.7.2.</span> <span class="nav-text">文件加载路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%B5%8C%E5%A5%97%E5%8C%85%E5%90%AB"><span class="nav-number">2.7.3.</span> <span class="nav-text">文件嵌套包含</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">3.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">3.1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="nav-number">3.1.1.</span> <span class="nav-text">函数命名规范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E6%95%B0"><span class="nav-number">3.1.2.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">3.1.3.</span> <span class="nav-text">默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92"><span class="nav-number">3.1.4.</span> <span class="nav-text">引用传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E4%BD%93"><span class="nav-number">3.1.5.</span> <span class="nav-text">函数体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">3.1.6.</span> <span class="nav-text">函数返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">3.1.7.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="nav-number">3.1.8.</span> <span class="nav-text">静态变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E5%87%BD%E6%95%B0"><span class="nav-number">3.1.9.</span> <span class="nav-text">可变函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="nav-number">3.1.10.</span> <span class="nav-text">匿名函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-number">3.1.11.</span> <span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%AA%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.12.</span> <span class="nav-text">伪类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.</span> <span class="nav-text">系统函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E8%BE%93%E5%87%BA%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.1.</span> <span class="nav-text">有输出的函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E5%85%B3%E6%97%B6%E9%97%B4%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.2.</span> <span class="nav-text">有关时间的函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E5%85%B3%E6%95%B0%E5%AD%A6%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.3.</span> <span class="nav-text">有关数学的函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E5%85%B3%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.4.</span> <span class="nav-text">有关函数的函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">3.3.</span> <span class="nav-text">错误处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%88%86%E7%B1%BB"><span class="nav-number">3.3.1.</span> <span class="nav-text">错误分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E4%BB%A3%E5%8F%B7"><span class="nav-number">3.3.2.</span> <span class="nav-text">错误代号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E8%A7%A6%E5%8F%91"><span class="nav-number">3.3.3.</span> <span class="nav-text">错误触发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%98%BE%E7%A4%BA%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.3.4.</span> <span class="nav-text">错误显示设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.3.5.</span> <span class="nav-text">错误日志设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">3.3.6.</span> <span class="nav-text">自定义错误处理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-1"><span class="nav-number">4.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">4.1.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89"><span class="nav-number">4.1.1.</span> <span class="nav-text">转义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%95%BF%E5%BA%A6"><span class="nav-number">4.1.2.</span> <span class="nav-text">长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="nav-number">4.1.3.</span> <span class="nav-text">一些其他函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">4.2.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89"><span class="nav-number">4.2.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E7%82%B9"><span class="nav-number">4.2.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">4.2.3.</span> <span class="nav-text">多维数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">4.2.3.1.</span> <span class="nav-text">二维数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84-1"><span class="nav-number">4.2.3.2.</span> <span class="nav-text">多维数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%BD%A2%E6%95%B0%E7%BB%84%EF%BC%88%E4%B8%8D%E8%A7%84%E5%88%99%E6%95%B0%E7%BB%84%EF%BC%89"><span class="nav-number">4.2.3.3.</span> <span class="nav-text">异形数组（不规则数组）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%BE%BF%E5%88%A9"><span class="nav-number">4.2.4.</span> <span class="nav-text">数组便利</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#For-%E5%BE%AA%E7%8E%AF%E4%BE%BF%E5%88%A9%E6%95%B0%E7%BB%84"><span class="nav-number">4.2.4.1.</span> <span class="nav-text">For 循环便利数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#while"><span class="nav-number">4.2.4.2.</span> <span class="nav-text">while</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="nav-number">4.2.5.</span> <span class="nav-text">相关函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F"><span class="nav-number">4.3.</span> <span class="nav-text">时间日期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DateTime-%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.3.1.</span> <span class="nav-text">DateTime 对象</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9D%A2%E7%9B%B8%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.</span> <span class="nav-text">面相对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B0%83%E7%94%A8"><span class="nav-number">5.1.</span> <span class="nav-text">类的定义和调用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="nav-number">5.2.</span> <span class="nav-text">方法和属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-number">5.3.</span> <span class="nav-text">访问控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="nav-number">5.4.</span> <span class="nav-text">构造函数和析构函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.</span> <span class="nav-text">静态变量和静态方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%B8%B8%E9%87%8F"><span class="nav-number">5.5.1.</span> <span class="nav-text">类常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.2.</span> <span class="nav-text">静态方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-number">5.6.</span> <span class="nav-text">类的继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%9E%E6%80%A7%E9%87%8D%E5%86%99"><span class="nav-number">5.6.1.</span> <span class="nav-text">方法和属性重写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#final-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">5.6.2.</span> <span class="nav-text">final 关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="nav-number">5.6.3.</span> <span class="nav-text">调用父类方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E5%BB%B6%E8%BF%9F%E7%BB%91%E5%AE%9A-static"><span class="nav-number">5.6.4.</span> <span class="nav-text">静态延迟绑定 static</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%A4%9A%E6%80%81"><span class="nav-number">5.7.</span> <span class="nav-text">类的多态</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="nav-number">5.7.1.</span> <span class="nav-text">方法重载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">5.8.</span> <span class="nav-text">接口和抽象类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="nav-number">5.9.</span> <span class="nav-text">抽象类和抽象方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">5.9.1.</span> <span class="nav-text">抽象类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="nav-number">5.9.2.</span> <span class="nav-text">抽象方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BC%94%E7%A4%BA"><span class="nav-number">5.9.3.</span> <span class="nav-text">演示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">5.9.4.</span> <span class="nav-text">抽象类和方法的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#trait-%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8"><span class="nav-number">5.10.</span> <span class="nav-text">trait 代码复用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E5%90%8D%E5%86%B2%E7%AA%81"><span class="nav-number">5.10.1.</span> <span class="nav-text">同名冲突</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9B%E7%94%A8%E6%B3%95"><span class="nav-number">6.</span> <span class="nav-text">其他一些用法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%8D%95%E6%8D%89%E5%A4%84%E7%90%86"><span class="nav-number">6.1.</span> <span class="nav-text">错误捕捉处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5"><span class="nav-number">6.2.</span> <span class="nav-text">预处理语句</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mitaka xu"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Mitaka xu</p>
  <div class="site-description" itemprop="description">Golang开发博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">149</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hpYW95ZXNoaXl1" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiaoyeshiyu"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.xiaoyeshiyu.com/post/c2140f2a.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Mitaka xu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小夜时雨">
      <meta itemprop="description" content="Golang开发博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="PHP 学习笔记 | 小夜时雨">
      <meta itemprop="description" content="近期接手的项目大多是老 PHP 语言的项目，需要维护和升级，甚至有些需要使用 golang 重构，以前零散学习的 PHP 就有点不够用，这里重新学习一遍，做笔记记录一下。">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          PHP 学习笔记
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-06-23 00:00:00" itemprop="dateCreated datePublished" datetime="2024-06-23T00:00:00+08:00">2024-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-06-30 17:00:42" itemprop="dateModified" datetime="2024-06-30T17:00:42+08:00">2024-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
        </span>
    </span>

  
    <span id="/post/c2140f2a.html" class="post-meta-item leancloud_visitors" data-flag-title="PHP 学习笔记" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
</div>

            <div class="post-description">近期接手的项目大多是老 PHP 语言的项目，需要维护和升级，甚至有些需要使用 golang 重构，以前零散学习的 PHP 就有点不够用，这里重新学习一遍，做笔记记录一下。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><ul>
<li>HTML 脚本语言，面向对象、解释型</li>
<li>适合 Web 开发并可以嵌入 HTML 的多用途脚本语言，动态生成的网页</li>
<li>前身是 Personal HomePage，现在一般理解为 PHP Hypertext Preprosessor，php 超文本预处理器，底层使用 C 语言</li>
</ul>
<p>静态网站特点：</p>
<ul>
<li>每个网页都是一个独立的文件</li>
<li>容易被搜索引擎检索</li>
<li>没有数据库支持</li>
<li>交互性差</li>
<li>一般网页后缀是 <code>.htm,.html,.xml</code></li>
</ul>
<p>动态网站特点：</p>
<ul>
<li>交互性：根据用户要求和选择动态地改变和响应</li>
<li>自动更新：无需手动更新 HTML 文档，便会自动生成新页面</li>
<li>因时因人而异：不同时间、不同用户访问同一网址会出现不同页面</li>
<li>一般网页后缀是 <code>.asp,.jsp,.php,.perl,.cgi</code> 还会有标志性的符号 <code>？</code></li>
</ul>
<h2 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h2><p>一般 PHP 开发都会搭建 LAMP 环境，也就是 Linux+Apache+Mysql+PHP， 按照网上教程搭建即可。</p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="语法初识"><a href="#语法初识" class="headerlink" title="语法初识"></a>语法初识</h2><h3 id="代码标识"><a href="#代码标识" class="headerlink" title="代码标识"></a>代码标识</h3><p>ASP 标记：<code>&lt;% php代码 %&gt;</code></p>
<p>短标记：<code>&lt;? php代码 ?&gt;</code></p>
<p>脚本标记：<code>&lt;script language=&quot;php&quot;&gt; php 代码&lt;/script&gt;</code></p>
<p>标准标记（最常用）：<code>&lt;?php php 代码 ?&gt;</code></p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p><code>//</code> 表示后面所有内容都是注释</p>
<p><code>#</code>：与 <code>//</code> 一样</p>
<p><code>/*   */</code> ：块注释</p>
<h3 id="分隔符"><a href="#分隔符" class="headerlink" title="分隔符"></a>分隔符</h3><p>PHP 中，代码是以行为单位，系统需要通过判断行的结束，该结束通常都是一个符号，分号 <code>;</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">&quot;hello world&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>PHP 是一种动态网站开发的脚本语言，动态语言特点是交互性，会有数据的传递，实现的方式就是通过变量。</p>
<p>定义方式：使用 <code>$</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$var1</span>;</span><br></pre></td></tr></table></figure>

<p>定义，同时赋值</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$var2</span> = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>访问变量</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="variable">$var1</span>, <span class="variable">$var2</span>;</span><br></pre></td></tr></table></figure>

<p>修改变量</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$var2</span> = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>删除变量（从内存种移除）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unset</span>(<span class="variable">$var2</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>变量名必须以 <code>$</code> 开头</li>
<li>变量由字母、数字和下划线构成，不能以数字开头；</li>
</ul>
<h3 id="预定义变量（超级全局变量）"><a href="#预定义变量（超级全局变量）" class="headerlink" title="预定义变量（超级全局变量）"></a>预定义变量（超级全局变量）</h3><p>指的是提前定义的变量，系统定义的变量，存储许多需要用到的数据（预定义变量都是数组），</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$_GET</span>; <span class="comment">// 获取所有表单以 get 方式提交的数据</span></span><br><span class="line"><span class="variable">$_POST</span>; <span class="comment">// POST 提交的数据都会保存在此</span></span><br><span class="line"><span class="variable">$_REQUEST</span>; <span class="comment">// GET 和 POST 提交的都会保存</span></span><br><span class="line"><span class="variable">$GLOBALS</span>; <span class="comment">// PHP 中所有的全局变量</span></span><br><span class="line"><span class="variable">$_SERVER</span>; <span class="comment">// 服务器信息</span></span><br><span class="line"><span class="variable">$_SESSION</span>; <span class="comment">// session 会话数据</span></span><br><span class="line"><span class="variable">$_COOKIE</span>; <span class="comment">// cookie 会话数据</span></span><br><span class="line"><span class="variable">$_ENV</span>; <span class="comment">// 环境信息</span></span><br><span class="line"><span class="variable">$_FILES</span>; <span class="comment">// 用户上传的文件信息</span></span><br></pre></td></tr></table></figure>

<h3 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a>可变变量</h3><p>如果一个变量保存的值刚好是另外一个变量的名字，那么可以直接通过访问一个变量得到另外一个变量的值：在变量前再多加一个 <code>$</code> 符号；</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&#x27;bb&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>, <span class="string">&#x27;&lt;br/&gt;&#x27;</span>; <span class="comment">//b</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$$a</span>;  <span class="comment">// bb</span></span><br></pre></td></tr></table></figure>

<h3 id="变量传值"><a href="#变量传值" class="headerlink" title="变量传值"></a>变量传值</h3><p>也就是将一个变量赋值给另外一个变量：</p>
<ul>
<li>值传递：将变量保存的值复制一分，将新的值给另外一个变量保存；（赋值后两个变量没有关系）</li>
<li>引用传递：将变量保存的值所在的内存地址，拷贝到另外一个变量上，此时两个变量只想的内存地址是同一份，改变数据之后，另外一个变量的数据也会改变</li>
</ul>
<p>在内存种，通常有以下几个分区：</p>
<ul>
<li>栈区：程序可以操作的内存部分（不存数据，运行程序代码），少但是快；</li>
<li>代码段：存储程序的内存部分（不执行）</li>
<li>数据段：存储普通数据（全局区和静态区）</li>
<li>堆区：存储负载数据（例如声明的局部变量从栈逃逸到堆）</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$b</span> = <span class="variable">$a</span>; <span class="comment">// 值传递</span></span><br><span class="line"><span class="variable">$b</span> = &amp;<span class="variable">$a</span>; <span class="comment">// 引用传递</span></span><br></pre></td></tr></table></figure>

<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量是一种程序运行中不可改变的变量，一旦定义，通常数据不可改变。</p>
<p>在 PHP 中常量有两种定义方式（5.3 之后才有两种）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种，使用 define函数定义，&#x27;&#x27;中的是常量名</span></span><br><span class="line"><span class="title function_ invoke__">define</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">// 第二种，使用 const 关键字定义</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">b</span> = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 使用时，直接通过常量名称即可，不需要加上 $</span></span><br><span class="line"><span class="keyword">echo</span> a, <span class="string">&#x27;&lt;br/&gt;&#x27;</span>, b; </span><br></pre></td></tr></table></figure>

<ol>
<li>常量定义不需要使用 <code>$</code> 符号，一旦使用系统就会认为是变量；</li>
<li>常量的名字由字母、数字和下划线组成，不能以数字开头；</li>
<li>常量的名字通常是以大写字母为主（与变量以示区别）；</li>
<li>常量命名的规则比变量要松散，可以使用一些特殊字符，但是该方式只能使用 <code>define</code> 定义；</li>
<li>定义常量通常不区分大小写，但是可以区分，可以参照 <code>define</code> 函数的第三个参数；</li>
<li>常量一旦定义就不能重新定义或取消定义</li>
</ol>
<p><code>define</code> 和 <code>const</code> 定义的常量是有区别的：在于访问权限区别；</p>
<p>常量的使用方式，跟变量一样，如果名称特殊，无法直接使用，可以通过访问常量的函数 <code>constant(&#39;-_-&#39;)</code></p>
<ul>
<li><code>const</code> 用于类成员变量的定义，<code>define</code> 不可以用于类成员变量的定义（但是可以用于在类中的函数中），可用于全局常量（函数内部定义也是全局）</li>
<li><code>const</code> 可在类中使用，<code>define</code> 不能</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取所有常量</span></span><br><span class="line"><span class="title function_ invoke__">get_defined_constants</span>();</span><br><span class="line"><span class="comment">// 返回不同类型常量</span></span><br><span class="line"><span class="title function_ invoke__">get_defined_constants</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 返回具体的常量</span></span><br><span class="line"><span class="title function_ invoke__">get_defined_constants</span>(<span class="literal">true</span>)[<span class="string">&quot;user&quot;</span>];</span><br></pre></td></tr></table></figure>

<h3 id="系统常量"><a href="#系统常量" class="headerlink" title="系统常量"></a>系统常量</h3><p>系统帮助用户定义的常量，用户可以直接使用，例如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PHP_VERSION; <span class="comment">// PHP 版本号</span></span><br><span class="line">PHP_INT_SIZE; <span class="comment">// 整形大小</span></span><br><span class="line">PHP_INT_MAX; <span class="comment">// 整形能表示的最大值</span></span><br></pre></td></tr></table></figure>

<p>PHP 种还有一些特殊的常量，他们由双下划线开始+常量名+双下划线结束，这种常量通常称之为系统魔术常量：魔术常量的值通常会跟着环境变化，但是用户改变不了（例如代码位置）。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">__DIR__</span>; <span class="comment">// 当前被执行的脚本所在电脑的绝对路径</span></span><br><span class="line"><span class="keyword">__FILE__</span>; <span class="comment">// 当前被执行的脚本所在电脑的绝对路径（带自己名）</span></span><br><span class="line"><span class="keyword">__LINE__</span>; <span class="comment">// 当前所属行数</span></span><br><span class="line"><span class="keyword">__NAMESPACE__</span>; <span class="comment">// 当前所属的命名空间</span></span><br><span class="line"><span class="keyword">__CLASS__</span>; <span class="comment">// 当前所属的类</span></span><br><span class="line"><span class="keyword">__METHOD__</span>; <span class="comment">// 当前所属的方法</span></span><br><span class="line">__FUCNTION__; <span class="comment">// 返回当前函数名</span></span><br><span class="line"><span class="keyword">__TRAIT__</span>; <span class="comment">// 获取当前 trait 的名字</span></span><br></pre></td></tr></table></figure>

<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>在 PHP 中指的是存储的数据本身的类型，而不是变量的类型。PHP 是一种弱类型语言，变量本身没有数据类型。（也就是一个变量前面赋值是整形，后面可以换成字符串或者数组赋值给这个变量）</p>
<h3 id="八种数据类型"><a href="#八种数据类型" class="headerlink" title="八种数据类型"></a>八种数据类型</h3><p>简单（基本）数据类型，4 个小类：</p>
<ul>
<li>整型：<code>int/integer</code>，系统分配 4 个字节存储，表示整数类型（有符号）</li>
<li>浮点型：<code>float/double</code>，系统分配 8 个字节存储，表示小数或者整型存不下的整数</li>
<li>字符串型：<code>string</code>，根据实际长度分配，表示字符串（引号）</li>
<li>布尔类型：<code>bool/boolean</code>，表示布尔类型，只有两个值：<code>true</code> 和 <code>false</code></li>
</ul>
<p>复合数据类型，2 个小类：</p>
<ul>
<li>对象类型：<code>object</code>，存放对象（面相对象）</li>
<li>数组类型：<code>array</code>，存储多个数据（一次性）</li>
</ul>
<p>特殊数据类型，2 个小类：</p>
<ul>
<li>资源类型：<code>resource</code>，存放资源数据（PHP 外部数据，如数据库、文件）</li>
<li>空类型：<code>NULL</code>，只有一个值就是 NULL（不能运算）</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>在很多条件下，需要指定的数据类型，需要外部数据（当前 PHP 取得的数据），转换成目标数据类型。</p>
<p>在 PHP 种有两种类型转换方式：</p>
<ol>
<li>自动转换：系统根据需求自己判定，自己转换（用的较多，效率偏低）</li>
<li>强制（手动）转换：认为根据需要的目标类型转换<ol>
<li>强制转换规则：在变量之前增加一个括号 <code>()</code>，然后在里面写上对应类型：<code>int/integer</code>，其中 NULL 类型用到 <code>unset()</code></li>
</ol>
</li>
</ol>
<p>较多的是转布尔类型（判断）和转数值类型（算数运算）。</p>
<p>其他类型转布尔类型：在 PHP 种比较少类型转换成 false。</p>
<p><img data-src="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F16-29-44-image-20240623162944743.png" alt="image-20240623162944743"></p>
<p>其他类型转数值的说明：</p>
<ol>
<li>布尔 true 为 1，false 为 0；</li>
<li>字符串转数值有自己的规则；<ol>
<li>以字母开头的字符串，永远为 0；</li>
<li>以数字开头的字符串，取到碰到字符串为止（不会同时包含两个小数点）</li>
</ol>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;bac1.1.1.1&#x27;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&#x27;1.1.1.1abc&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自动转换 8.0 开始不支持，会出现报错 Fatal error: Uncaught TypeError: Unsupported operand types: string + string</span></span><br><span class="line"><span class="comment">// echo $a + $b;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 强制转换 0,  1.1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;a: &#x27;</span>, (<span class="keyword">float</span>)<span class="variable">$a</span>, <span class="string">&#x27;&lt;br/&gt;&#x27;</span>, <span class="string">&#x27;b: &#x27;</span>, (<span class="keyword">float</span>)<span class="variable">$b</span>;</span><br></pre></td></tr></table></figure>

<h3 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h3><p>通过一组类型判断函数，来判断变量，最终返回这个变量所保存数据的数据类型：是一组以 <code>is_</code> 开头后面跟类型名字的函数：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">is_string</span>(<span class="variable">$a</span>); <span class="comment">// 返回 1，代表 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bool(true)</span></span><br><span class="line"><span class="variable">$c1</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="variable">$c2</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">is_bool</span>(<span class="variable">$c1</span>));</span><br></pre></td></tr></table></figure>

<p>还有一组函数可以用来获取以及设定数据（变量）的类型：</p>
<ul>
<li><code>Gettype(变量名)</code>：获取类型，得到的是该类型对应的字符串</li>
<li><code>Settype(变量名)</code>：设定数据类型；与强制转换不同<ul>
<li>强制转换（类型）变量名：是堆数据值赋值的内容进行处理（不会处理实际存储的内容）</li>
<li><code>settype</code> 回直接改变数据本身</li>
</ul>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> (<span class="keyword">float</span>)<span class="variable">$b</span>, <span class="string">&#x27;&lt;br/&gt;&#x27;</span>; <span class="comment">// 1.1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">gettype</span>(<span class="variable">$b</span>); <span class="comment">// string</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">settype</span>(<span class="variable">$b</span>, <span class="string">&#x27;int&#x27;</span>)); <span class="comment">// bool(true) </span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">gettype</span>(<span class="variable">$b</span>), <span class="string">&#x27;&lt;br/&gt;&#x27;</span>, <span class="variable">$b</span>;  <span class="comment">// integer，1</span></span><br></pre></td></tr></table></figure>

<h3 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h3><p>保存整数数值（有范围限制），4 个字节存储。PHP 种默认有符号类型，也就是区分正负数。</p>
<p>PHP 种提供了四种整型的定义方式：十进制定义、二进制定义、八进制定义和十六进制定义。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a1</span> = <span class="number">110</span>;   <span class="comment">// 十进制</span></span><br><span class="line"><span class="variable">$a2</span> = <span class="number">0b110</span>; <span class="comment">// 二进制</span></span><br><span class="line"><span class="variable">$a3</span> = <span class="number">0110</span>;  <span class="comment">// 八进制 </span></span><br><span class="line"><span class="variable">$a4</span> = <span class="number">0x110</span>; <span class="comment">// 十六进制</span></span><br></pre></td></tr></table></figure>

<p>PHP 种提供了很多的函数进行转换，函数命名也很好理解：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">decbin</span>(); <span class="comment">// 十进制转二进制</span></span><br><span class="line"><span class="title function_ invoke__">decoct</span>(); <span class="comment">// 十进制转八进制</span></span><br><span class="line"><span class="title function_ invoke__">dechex</span>(); <span class="comment">// 十进制转十六进制</span></span><br></pre></td></tr></table></figure>

<h3 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h3><p>8 个字节，小数类型以及超过整形所能存储范围的整数（不保证精度），精度范围大概在 15 个有效数字左右。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$f1</span> = <span class="number">1.23</span>;</span><br><span class="line"><span class="variable">$f2</span> = <span class="number">1.23e4</span>; <span class="comment">// 表示 10 的 4 次方</span></span><br><span class="line"><span class="variable">$f3</span> = PHP_INT_MAX + <span class="number">1</span>; </span><br></pre></td></tr></table></figure>

<h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>两种，true 和 false</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$t1</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="variable">$t2</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$t3</span> = <span class="literal">FALSE</span>;</span><br></pre></td></tr></table></figure>

<p>在进行某些数据判断的时候，需要特别注意类型转换。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">empty</span>(); <span class="comment">// 判断数据的值是否为空，不是 NULL，</span></span><br><span class="line"><span class="keyword">isset</span>(); <span class="comment">// 判断数据存储的变量本身是否存在</span></span><br></pre></td></tr></table></figure>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p><code>operator</code>，将数据进行运算的特殊符号，PHP 种有十种。</p>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p><code>=</code>，将右边的结果（可以是变量、数据、常量和其他运算出来的结果），保存到内存中，然后将内存地址赋值给左侧的变量（常量）。</p>
<p>也可以使用连贯运算符</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表示变量 a 和变量 b 都是 10</span></span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$b</span> = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3><p>基本算数操作：</p>
<ul>
<li><code>+</code>：也可以数组 + 数组，就是合并两个数组（相同的 key 时，后者不会覆盖前者）</li>
<li><code>-</code></li>
<li><code>*</code></li>
<li><code>/</code></li>
<li><code>%</code></li>
</ul>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>比较两个数据的大小，或者两个内容是否相同。</p>
<ul>
<li><code>&gt;</code></li>
<li><code>&lt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;=</code></li>
<li><code>==</code></li>
<li><code>!=</code></li>
<li><code>===</code>：全等于，大小以及数据的类型都相同</li>
<li><code>!===</code>：不全等于，只有大小或者类型不同</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="number">123</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span> == <span class="variable">$b</span>); <span class="comment">// bool(true)</span></span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>针对不同的结果进行匹配</p>
<ul>
<li><code>&amp;&amp;</code>：与</li>
<li><code>||</code>：或</li>
<li><code>!</code> ：非</li>
</ul>
<p>逻辑与和逻辑或又称之为短路运算：如果一个表达式结果满足条件了，那么就不会运行逻辑运算符后面的表达式。</p>
<h3 id="连接运算符"><a href="#连接运算符" class="headerlink" title="连接运算符"></a>连接运算符</h3><p>是 PHP 中将多个字符串拼接的一种符号。</p>
<ul>
<li><code>.</code> ：将两个字符串连接在一起</li>
<li><code>.=</code>：复合运算，将左边的内容与右边的内容连接起来，然后重新赋值给左边变量</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="number">123</span>;</span><br><span class="line"><span class="variable">$a</span> += <span class="number">10</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span>); <span class="comment">// int(133)</span></span><br></pre></td></tr></table></figure>

<h3 id="错误抑制符"><a href="#错误抑制符" class="headerlink" title="错误抑制符"></a>错误抑制符</h3><p>在 PHP 中有一些错误可以提前预知，但是这些错误可能无法避免，但是又希望报错给用户看，可以使用错误抑制符处理。</p>
<p><code>@</code>：在可能出错的表达式前面使用 <code>@</code> 符号即可。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span> = <span class="number">10</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">0</span>;</span><br><span class="line">@(<span class="variable">$a</span> % <span class="variable">$b</span>);</span><br></pre></td></tr></table></figure>

<p>一般使用的不多</p>
<h3 id="三目运算符（三元运算符）"><a href="#三目运算符（三元运算符）" class="headerlink" title="三目运算符（三元运算符）"></a>三目运算符（三元运算符）</h3><p>有三个表达式参与的运算（用于简单的分支）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表达式 1 ？ 表达式 2 ：表达式 3</span></span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$a</span> &gt; <span class="number">10</span> ? <span class="number">1</span> : <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>代表表达式1 如果为 true，运算符结果为表达式 2 的结果，否则为表达式 3 的结果。</p>
<p>三目运算符可以进行复合三目运算，三目运算种的表达式 2 和 3 都是可以是另外一个三目运算。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 也可以省略写成这样，表示如果 $a 为 true，则 $b = $a，否则为 2</span></span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$a</span> ?: <span class="number">2</span>; </span><br></pre></td></tr></table></figure>

<h3 id="空合并运算符"><a href="#空合并运算符" class="headerlink" title="空合并运算符"></a>空合并运算符</h3><p>用于简化处理可能为 <code>null</code> 的变量或数组元素的情况。</p>
<p>作用是判断一个变量是否未定义或者为 null，如果是，则返回指定的默认值；否则返回该变量的值</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$name</span> = <span class="variable">$username</span> ?? <span class="string">&quot;mitaka&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$name</span>;</span><br></pre></td></tr></table></figure>

<h3 id="组合比较符"><a href="#组合比较符" class="headerlink" title="组合比较符"></a>组合比较符</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$c</span> = <span class="variable">$a</span> &lt;=&gt; <span class="variable">$b</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果 <code>$a &gt; $b</code>，则 <code>$c</code> 的值为 <code>1</code>；</li>
<li>如果  <code>$a == $b</code>，则 <code>$c</code> 的值为 <code>0</code>；</li>
<li>如果  <code>$a &lt; $b</code>，则 <code>$c</code> 的值为 <code>-1</code>；</li>
</ul>
<h3 id="自操作运算符"><a href="#自操作运算符" class="headerlink" title="自操作运算符"></a>自操作运算符</h3><p>自操作：自己操作自己的运算符</p>
<ul>
<li><code>++</code></li>
<li><code>--</code></li>
</ul>
<p>PHP 种自操作符是可以放在变量前或者后：前置操作和后置操作。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$a</span>++;</span><br><span class="line">++<span class="variable">$a</span>;</span><br></pre></td></tr></table></figure>

<p>区别是如果还有别的参与，效果会不一样</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$b</span> = <span class="variable">$a</span>++; <span class="comment">// $a 是 2，%b 是 1</span></span><br><span class="line"><span class="variable">$b</span> = ++<span class="variable">$a</span>; <span class="comment">// $a 是 2，$b 是 2</span></span><br></pre></td></tr></table></figure>

<p>后置自操作：先把自己所保留的值留下来，然后改变别人，自己给别人的值是原来的值；</p>
<p>前置自操作：先把自己改变，然后把改变后的值给别人；</p>
<h3 id="计算机码"><a href="#计算机码" class="headerlink" title="计算机码"></a>计算机码</h3><p>包含：原码、反码和补码</p>
<p>原码：数据本身从十进制转换成二进制得到的结果。正数：左边符号位为 0，负数：左边符号位为 1</p>
<p>反码：针对负数，符号位不便，其他位取反</p>
<p>补码：针对负数，反码+1</p>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>使用计算机最小的单位（位 bit） 进行运算。</p>
<ul>
<li><code>&amp;</code></li>
<li><code>|</code></li>
<li><code>~</code></li>
<li><code>^</code></li>
<li><code>&gt;&gt;</code></li>
<li><code>&lt;&lt;</code></li>
</ul>
<h3 id="运算优先级"><a href="#运算优先级" class="headerlink" title="运算优先级"></a>运算优先级</h3><p><span class="exturl" data-url="aHR0cHM6Ly9waHAuZ29sYXJhdmVsLmNvbS9sYW5ndWFnZS5vcGVyYXRvcnMucHJlY2VkZW5jZS5odG1s">https://php.golaravel.com/language.operators.precedence.html<i class="fa fa-external-link-alt"></i></span></p>
<p><img data-src="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F22-12-13-image-20240623221213270.png" alt="image-20240623221213270"></p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><p>代码执行的方向</p>
<h3 id="控制分类"><a href="#控制分类" class="headerlink" title="控制分类"></a>控制分类</h3><p>顺序结构：代码从上往下，顺序执行</p>
<p>分支结构：给定一个条件，同时有多种可执行代码（块），然后会根据条件执行某一段代码</p>
<p>循环结构：在某个条件控制范围内，指定的代码（块）可以重复执行</p>
<h3 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h3><p>最基本结构，所有代码默认都是从上往下依次执行</p>
<h3 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h3><p>PHP 种，分支结构主要有两种，<code>if</code> 分支和 <code>switch</code> 分支</p>
<h4 id="if-分支"><a href="#if-分支" class="headerlink" title="if 分支"></a>if 分支</h4><p>给定一个条件，同时为该条件设置多种情况，然后通过条件判断来实现具体的执行段</p>
<p>基本语法：if 分支 PHP 也提供多种方式来实现</p>
<ul>
<li><code>if</code></li>
<li><code>if ... else</code></li>
<li><code>if ... elseif ... else</code></li>
</ul>
<h4 id="switch-分支"><a href="#switch-分支" class="headerlink" title="switch 分支"></a>switch 分支</h4><p>有一组情形存在，通过同一条件，通常有多个值，但是每一个值都会有对应不同的代码要执行。</p>
<p><code>switch</code> 判断方式：是将条件放到分支结构内部判断。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (条件表达式) &#123;  <span class="comment">// 一般这个表达式是一个具体的值</span></span><br><span class="line"><span class="comment">// 所有判断条件：逐个进行</span></span><br><span class="line"><span class="keyword">case</span> 值 <span class="number">1</span>:    <span class="comment">// 当条件表达式的结果与值 1 相等</span></span><br><span class="line">    要执行的代码;</span><br><span class="line">    <span class="keyword">break</span>; 			<span class="comment">// switch 中，如果条件匹配成功，那么系统就不会再次匹配，会自动顺序执行向下的所有代码，因此需要使用 break 表示结束。</span></span><br><span class="line"><span class="keyword">case</span> 值 <span class="number">2</span>：    </span><br><span class="line">    要执行的代码;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:      <span class="comment">// 一般回将 default 放在末尾</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><p>代码段在一定的控制下，可以多次执行。</p>
<ul>
<li><code>for</code> 循环：通过条件、起始和终止判断执行</li>
<li><code>while</code> 循环：通过判断条件终止</li>
<li><code>do-while</code> 循环：跟 <code>while</code> 差不多</li>
<li><code>foreach</code> 循环：专门针对数组</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(条件表达式 <span class="number">1</span>；条件表达式 <span class="number">2</span>；条件表达式 <span class="number">3</span>)&#123;</span><br><span class="line">    <span class="comment">// 跟 golang 差不多</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">    <span class="comment">// 无条件，死循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>while</code> 没有初始化条件，只需要判断结束条件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件表达式)&#123;</span><br><span class="line"> <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>do-while</code> 很像 <code>while</code>，相比而言，是先执行循环体，再判断结束条件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line">&#125; <span class="keyword">while</span> (条件表达式)</span><br></pre></td></tr></table></figure>

<h4 id="循环控制"><a href="#循环控制" class="headerlink" title="循环控制"></a>循环控制</h4><p>在循环体内部堆循环体本身进行控制。</p>
<ul>
<li>中断控制：重新开始循环，循环体种还有其他内容，也再执行<ul>
<li>continue 层级，默认是 1</li>
</ul>
</li>
<li>终止循环：循环直接结束<ul>
<li>break 层级，默认是 1</li>
</ul>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用数字代表层级</span></span><br><span class="line"><span class="keyword">continue</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">break</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<h3 id="流程控制替代语法"><a href="#流程控制替代语法" class="headerlink" title="流程控制替代语法"></a>流程控制替代语法</h3><p>分支和循环结构的替代语法，主要是让 PHP 脚本语言更加美观</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>():</span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line"><span class="keyword">endfor</span>;</span><br></pre></td></tr></table></figure>

<p>一般的替代语法，是左大括号使用冒号替代，右大括号使用 end+ 对应的起始标记替代；</p>
<h2 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h2><p>在当前文件内引用其他 PHP 文件、HTML 文件或文本文件等，一般用于包含公共方法、公共页面等，例如 <code>header</code> <code>footer</code> <code>sider</code> 等网页通用部分。</p>
<p>与文件包含相关的函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span>         找不到被包含的文件时会产生致命错误，并停止脚本运行。</span><br><span class="line"><span class="keyword">include</span>         找不到被包含的文件时只会产生警告，脚本将继续运行。</span><br><span class="line"><span class="keyword">include_once</span>    与<span class="keyword">include</span>类似，唯一区别是如果该文件中的代码已经被包含，则不会再次包含。</span><br><span class="line"><span class="keyword">require_once</span>    与<span class="keyword">require</span>类似，唯一区别是如果该文件中的代码已经被包含，则不会再次包含</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;?php phpinfo();?&gt;&quot;</span> &gt; info.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># lfi.php</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]); <span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">http:<span class="comment">//ip/?file=info.txt</span></span><br></pre></td></tr></table></figure>

<p>原理：</p>
<ol>
<li>在文件加载 <code>include</code> 或者 <code>require</code> 的时候，系统回自动的将被包含文件种的代码相当于嵌入到当前文件中</li>
<li>加载位置：在哪加载，对应的文件中的代码嵌入的位置就是对应的 include 位置；</li>
<li>在 PHP 种被包含的文件是单独进行编译的</li>
</ol>
<p>PHP 代码的执行流程：</p>
<ol>
<li>读取代码（PHP 程序）</li>
<li>编译：将 PHP 代码转换成字节码（生成 opcode）</li>
<li>zend engine 解析 opcode，按照字节码进行逻辑运算</li>
<li>将字节码转换成对应的 HTML 代码</li>
</ol>
<p>PHP 文件在编译的过程中如果出现了语法错误，那么会失败（不会执行）；但是如果被包含文件有错误的时候，系统会在执行到包含 include 这条语句的时候才会报错。</p>
<h3 id="include-和-require-区别"><a href="#include-和-require-区别" class="headerlink" title="include  和 require 区别"></a>include  和 require 区别</h3><ul>
<li><code>include</code> ：系统会碰到一次，执行一次，如果进行多次加载，会多次执行</li>
<li><code>include_once</code>：系统碰到多次，只加载一次</li>
<li><code>require</code> ：本质都是包含文件，唯一区别在于包含找不到的文件时候，报错的形式不一样<ul>
<li><code>include</code> 错误级别较轻，不会影响执行</li>
<li><code>require</code> 如果出错，代码不再执行</li>
</ul>
</li>
</ul>
<h3 id="文件加载路径"><a href="#文件加载路径" class="headerlink" title="文件加载路径"></a>文件加载路径</h3><p>文件在加载的时候需要指定文件路径才能保证 PHP 正确的找到对应的文件。</p>
<p>文件的加载路径包含两大类：</p>
<ol>
<li>绝对路径：从磁盘的根目录开始；从网站根目录开始，<code>/</code> 开始</li>
<li>相对路径：从当前文件所在目录开始的路径，<code>.</code> 或者 <code>./</code>，或者 <code>../</code></li>
</ol>
<h3 id="文件嵌套包含"><a href="#文件嵌套包含" class="headerlink" title="文件嵌套包含"></a>文件嵌套包含</h3><p>一个文件包含了另外一个文件，同时被包含的文件又包含了另外一个文件。</p>
<p>嵌套包含的时候很容易出现相对路径出错的文件：相对路径会因为文件的包含而改变（<code>./</code> 和 <code>../</code>）</p>
<p>嵌套如果出现循环嵌套也会出现报错，因此需要注意使用嵌套的过程和逻辑。</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p><code>function</code>，是一种语法结构，将实现某一个功能的代码块（多行代码）封装到一个结构种，从而实现代码的重复利用，以及逻辑分块。</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>定义语法:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> 函数名(<span class="params">参数</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">    <span class="comment">// 返回值: return 结果</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数的使用：通过访问函数的<code>名字()</code>。如果函数定义过程中有参数，那么在调用的时候也需要传入参数。</p>
<p>函数定义后不会执行，一定需要调用时才会执行。</p>
<p>函数调用特点：只要系统在内存中能够找到对应的函数，就可以执行（函数的调用可以在函数定义之前）</p>
<p>原因是：编译和执行是分开的（先编译后执行）</p>
<h3 id="函数命名规范"><a href="#函数命名规范" class="headerlink" title="函数命名规范"></a>函数命名规范</h3><p>由字母、数字和下划线组成，不能以数字开头。</p>
<p>一般遵循一下规则：</p>
<ol>
<li>驼峰法：<code>showParent()</code></li>
<li>下划线法：<code>show_parent()</code></li>
</ol>
<p>函数名字：在一个脚本周期种，不允许出现同名函数。</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>形参：形式参数，不具有实际意义的参数，是在函数定义时使用的参数</p>
<p>实参：实际参数，具有实际意义的参数，是在函数调用时使用的参数</p>
<p>形参是实参的载体：实参在调用时是需要传入到参数内部参与计算，那么需要在函数内部找到实际数据所在的位置才能找到数据本身：需要实际调用的时候，将数据以实参的形式传入函数内部，函数内部使用形参来执行。</p>
<ol>
<li>在 PHP 种允许实参多余形参：函数外部调用时可以传多个参数，在内部可以不用</li>
<li>在 PHP 种理论上形参个数没有限制</li>
<li>实参不能少于形参个数</li>
</ol>
<h3 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h3><p>default value，指的是形参的默认值，在函数定义的时候，就给形参进行一个初始化赋值：如果实际调用传入的参数（实参）没有提供，那么形参就会使用定义的时的值来进入参数内部参与运算。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="variable">$num1</span> = <span class="number">0</span>, <span class="variable">$num2</span> = <span class="number">1</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>默认值如果存在，可以不用传入。</li>
<li>默认值定义是放在最后面，可以多个，不能左边形参有默认值，但是右边没有</li>
<li>函数外部定义的变量名与内部定义的名字定义相同，不会冲突</li>
</ol>
<h3 id="引用传递"><a href="#引用传递" class="headerlink" title="引用传递"></a>引用传递</h3><p>实参在调用时，会将值赋值给形参，实际上是值传递：将实参的结果取出来，赋值给形参。</p>
<p>如果希望在函数内部拿到外部数据，并且函数内部修改影响外部数据，那么需要在定义时指定使用引用传递（而不是值传递）。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"><span class="variable">$num1</span>, &amp;<span class="variable">$num2</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$b</span> = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="title function_ invoke__">change</span>(<span class="variable">$a</span>,<span class="variable">$b</span>);</span><br><span class="line"><span class="comment">// 这样调用会报错，因为需要传入变量，只有变量才能传递引用</span></span><br><span class="line"><span class="title function_ invoke__">change</span>(<span class="number">5</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h3 id="函数体"><a href="#函数体" class="headerlink" title="函数体"></a>函数体</h3><p>函数体里面基本所有的代码都可以实现</p>
<h3 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h3><p>通过关键字 <code>return</code> 将函数内实现的结果，返回给函数外部。外部可以通过赋值将返回值赋值给其他的变量。</p>
<p>PHP 种所有的函数都有返回值，如果没有明确的 <code>return</code>，会默认返回 NULL。</p>
<p>函数的返回值可以是任意数据类型。</p>
<p><code>return</code> 除了返回函数的结果，还表示函数运行结束。在文件中，也可以表示文件执行结束。</p>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>变量（常量）能够被访问的区域。</p>
<ol>
<li>变量可以在普通代码种定义</li>
<li>变量可以在函数内部定义</li>
</ol>
<p>PHP 种作用域严格来说分为三种：</p>
<ol>
<li>全局变量：用户普通定义的变量（可以立即为函数外部），只允许在全局使用，理论上函数内部不可使用。<ol>
<li>脚本周期：直到脚本运行结束</li>
</ol>
</li>
<li>局部变量：函数内部定义的变量，只能在当前函数内部使用<ol>
<li>函数周期：到函数结束</li>
<li>可以在函数内部声明全局变量，使用关键字 <code>global $g</code> 来定义</li>
</ol>
</li>
<li>超全局变量：系统定义的变量（预定义变量：<code>$_SERVER</code>），也可以使用在函数外部变量定义，例如 <code>$global</code>，然后在函数内部使用 <code>$GLOBAL[&#39;global&#39;]</code>  的方式来访问</li>
</ol>
<h3 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h3><p>是在函数内部定义的变量，使用 <code>static</code> 关键字修饰，用来实现跨函数（同一个函数）共享数据的变量：函数运行结束所有局部变量都会清空，如果重新运行一下函数，所有的局部变量又会重新初始化。静态变量就是函数重复执行时，该变量的值可以保留下来</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">static</span> <span class="variable">$num1</span>;</span><br><span class="line">    <span class="variable">$num1</span>++;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$num1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">f1</span>(); <span class="comment">// 1</span></span><br><span class="line"><span class="title function_ invoke__">f1</span>(); <span class="comment">// 2 </span></span><br></pre></td></tr></table></figure>

<p>系统在进行编译时，会针对 <code>static</code> 变量特殊处理，函数调用时，会跳过 <code>static</code> 关键字这一行。</p>
<ol>
<li>为了统计当前函数被调用的次数</li>
<li>为了统筹多次调用得到不同结果，例如递归、全局变量</li>
</ol>
<h3 id="可变函数"><a href="#可变函数" class="headerlink" title="可变函数"></a>可变函数</h3><p>当前有一个变量所保存到值，刚好是一个函数的名字，那么就可以使用变量+() 来充当函数名使用。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$f1</span> = <span class="string">&#x27;f2&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$f1</span>(); <span class="comment">// hello world</span></span><br></pre></td></tr></table></figure>

<p>当需要用户在外部定义一个自定义函数，但是需要传入系统函数内部使用时，会用到可变函数。</p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>没有名字的函数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line"><span class="variable">$f1</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">&#x27;hello&#x27;</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行</span></span><br><span class="line"><span class="variable">$f1</span>();</span><br></pre></td></tr></table></figure>

<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包包含两个内容：要指定的代码快和为自由变量提供绑定的计算环境。</p>
<p>说白了，就是函数内部有一些局部变量（函数外的变量），在函数执行之后没有被释放。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$name</span> = <span class="keyword">__FUNCTION__</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// use 是将外部变量保留给内部使用</span></span><br><span class="line">    <span class="variable">$innerfunction</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$name</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$name</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$innerfunction</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">display</span>();</span><br></pre></td></tr></table></figure>

<p>闭包函数保留了其特点：变量在执行时就已经被赋值，在调用时即可表现对应的值。</p>
<h3 id="伪类型"><a href="#伪类型" class="headerlink" title="伪类型"></a>伪类型</h3><p>实际上在 PHP 种不存在的类型，通过伪类型可以达到类似泛型的作用</p>
<ul>
<li>Mixed：混合的，是多种 PHP 中的数据类型</li>
<li>Number：数字，整形和浮点型</li>
</ul>
<h2 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h2><h3 id="有输出的函数"><a href="#有输出的函数" class="headerlink" title="有输出的函数"></a>有输出的函数</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="keyword">print</span>(<span class="string">&#x27;hello&#x27;</span>); <span class="comment">// 先输出 hello，然后输出 1</span></span><br><span class="line"><span class="keyword">print</span>(<span class="string">&#x27;hello&#x27;</span>); </span><br><span class="line"><span class="variable">$a</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$a</span>);</span><br></pre></td></tr></table></figure>

<h3 id="有关时间的函数"><a href="#有关时间的函数" class="headerlink" title="有关时间的函数"></a>有关时间的函数</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">date</span>(<span class="string">&#x27;Y年 m月 d日 H:i:s&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">time</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">microtime</span>();</span><br></pre></td></tr></table></figure>

<h3 id="有关数学的函数"><a href="#有关数学的函数" class="headerlink" title="有关数学的函数"></a>有关数学的函数</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">max</span>();</span><br><span class="line"><span class="title function_ invoke__">min</span>();</span><br><span class="line"><span class="title function_ invoke__">rand</span>();</span><br><span class="line"><span class="title function_ invoke__">ceil</span>();</span><br><span class="line"><span class="title function_ invoke__">floor</span>();</span><br><span class="line"><span class="title function_ invoke__">pow</span>();</span><br><span class="line"><span class="title function_ invoke__">abs</span>();</span><br><span class="line"><span class="title function_ invoke__">sqrt</span>();</span><br></pre></td></tr></table></figure>

<h3 id="有关函数的函数"><a href="#有关函数的函数" class="headerlink" title="有关函数的函数"></a>有关函数的函数</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">function_exists</span>(); <span class="comment">// 判断指定的函数名字是否在内存种</span></span><br><span class="line"><span class="title function_ invoke__">func_get_arg</span>(); <span class="comment">// 在自定义函数种获取指定数值对应的参数</span></span><br><span class="line"><span class="title function_ invoke__">func_get_args</span>(); <span class="comment">// 在函数种获取所有参数，数组</span></span><br><span class="line"><span class="title function_ invoke__">func_num_args</span>(); <span class="comment">// 获取当前自定义函数的参数</span></span><br></pre></td></tr></table></figure>

<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p>在对某些代码进行执行的时候，发现有错误，就会通过错误处理的形式告知。</p>
<h3 id="错误分类"><a href="#错误分类" class="headerlink" title="错误分类"></a>错误分类</h3><ul>
<li>语法错误：PHP 语法规范不合格，代码在编译时就会不通过</li>
<li>运行时错误：代码编译通过，但是在执行过程中会出现一些条件不满足导致的错误</li>
<li>逻辑错误：编写不规范，会出现一些逻辑性错误</li>
</ul>
<h3 id="错误代号"><a href="#错误代号" class="headerlink" title="错误代号"></a>错误代号</h3><p>所有看到的错误代码在 PHP 中都被定义成系统常量。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9sZWFybmt1LmNvbS9waHAvd2lraXMvMjcyMDc=">https://learnku.com/php/wikis/27207<i class="fa fa-external-link-alt"></i></span></p>
<p><img data-src="https://image-hosting-xiaoyeshiyu-shanghai.oss-cn-shanghai.aliyuncs.com/homework%2FPicGo%2F2024%2F06%2F23%2F23-24-59-image-20240623232459298.png" alt="image-20240623232459298"></p>
<h3 id="错误触发"><a href="#错误触发" class="headerlink" title="错误触发"></a>错误触发</h3><p>程序运行时触发：系统自动根据错误发生后，对比对应的错误信息，输出给用户：主要针对代码的语法错误和运行时错误。</p>
<p>人为触发：直到某些逻辑可能会出错，从而使用对应判断代码来触发响应的错误。</p>
<h3 id="错误显示设置"><a href="#错误显示设置" class="headerlink" title="错误显示设置"></a>错误显示设置</h3><p>PHP 种有两种方式来设置当前脚本的错误处理</p>
<ol>
<li>PHP 的配置文件：全局配置，<code>php.ini</code> 文件</li>
<li>可以在运行的 PHP 脚本中去设置（比配置文件设置的优先级高）</li>
</ol>
<h3 id="错误日志设置"><a href="#错误日志设置" class="headerlink" title="错误日志设置"></a>错误日志设置</h3><p>在生产环境中一般不显示错误（避免显示在网站上，暴露更多信息），此时可以配置保存到文件种，需要在 PHP 配置文件种或者代码种设置。</p>
<h3 id="自定义错误处理"><a href="#自定义错误处理" class="headerlink" title="自定义错误处理"></a>自定义错误处理</h3><p>最简单的错误处理：<code>trigger_errors()</code> 函数，但是该函数不会阻止系统报错。</p>
<p>用户自定义错误处理函数，然后将该函数增加操作系统错误处理的句柄种，然后系统会在碰到错误之后，使用用户定义的错误函数。</p>
<ol>
<li><code>set_error_handler()</code>：<span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc2V0LWVycm9yLWhhbmRsZXI=">https://www.php.net/manual/zh/function.set-error-handler<i class="fa fa-external-link-alt"></i></span></li>
<li>自定义错误处理函数</li>
</ol>
<h1 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>定义语法：</p>
<ol>
<li>单引号字符串：包含的变量不会解析</li>
<li>双引号字符串：包含的变量会解析（可以使用<code>&#123;&#125;</code>来解决字符串分隔）（这两个一般都不能超过一行）</li>
<li><code>newdoc</code> 字符串</li>
<li><code>heredic</code> 字符串</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结构化定义</span></span><br><span class="line"><span class="variable">$str1</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="variable">$str2</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="variable">$str3</span> = <span class="string">&lt;&lt;&lt;EOD</span></span><br><span class="line"><span class="string">    hello </span></span><br><span class="line"><span class="string">EOD</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$str4</span> = <span class="string">&lt;&lt;&lt;&#x27;EOD&#x27;</span></span><br><span class="line"><span class="string">    hello</span></span><br><span class="line"><span class="string">EOD</span>;</span><br></pre></td></tr></table></figure>

<h3 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h3><p>一些特定的方式定义的字母，系统会特定处理：通常这种方式都是使用反斜杠+字母（单词）的特性。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvcmVnZXhwLnJlZmVyZW5jZS5lc2NhcGUucGhw">https://www.php.net/manual/zh/regexp.reference.escape.php<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h3><p><code>strlen()</code> 得到字符串长度，以字节为单位。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">strlen</span>(<span class="string">&quot;abc&quot;</span>));  <span class="comment">// 3</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">strlen</span>(<span class="string">&quot;你好 123&quot;</span>)); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>中文在 utf8 字符集下占 3 个字节</p>
<p>多字节字符串扩展模块：<code>mbstring</code> 扩展（<code>mb: Mutli Bytes</code>），针对一些关于字符统计，<code>strlen</code> 只是针对标准交换吗 ASCII，<code>mb_string</code> 会针对不同的字符集。</p>
<h3 id="一些其他函数"><a href="#一些其他函数" class="headerlink" title="一些其他函数"></a>一些其他函数</h3><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvcmVmLnN0cmluZ3MucGhw">https://www.php.net/manual/zh/ref.strings.php<i class="fa fa-external-link-alt"></i></span></p>
<p>切割、组合等转换</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uaW1wbG9kZS5waHA=">implode<i class="fa fa-external-link-alt"></i></span> — 用字符串连接数组元素</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZXhwbG9kZS5waHA=">explode<i class="fa fa-external-link-alt"></i></span> — 使用一个字符串分割另一个字符串</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RyLXNwbGl0LnBocA==">str_split<i class="fa fa-external-link-alt"></i></span> — 将字符串转换为数组</li>
</ul>
<p>去除</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24udHJpbS5waHA=">trim<i class="fa fa-external-link-alt"></i></span> — 去除字符串首尾处的空白字符（或者其他字符）</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ubHRyaW0ucGhw">ltrim<i class="fa fa-external-link-alt"></i></span> — 删除字符串开头的空白字符（或其他字符）</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucnRyaW0ucGhw">rtrim<i class="fa fa-external-link-alt"></i></span> — 删除字符串末端的空白字符（或者其他字符）</li>
</ul>
<p>截取</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3Vic3RyLnBocA==">substr<i class="fa fa-external-link-alt"></i></span> — 返回字符串的子串</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3Ryc3RyLnBocA==">strstr<i class="fa fa-external-link-alt"></i></span> — 查找字符串的首次出现</li>
</ul>
<p>大小转换</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RydG9sb3dlci5waHA=">strtolower<i class="fa fa-external-link-alt"></i></span> — 将字符串转化为小写</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RydG91cHBlci5waHA=">strtoupper<i class="fa fa-external-link-alt"></i></span> — 将字符串转化为大写</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24udWNmaXJzdC5waHA=">ucfirst<i class="fa fa-external-link-alt"></i></span> — 将字符串的首字母转换为大写</li>
</ul>
<p>查找</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RycG9zLnBocA==">strpos<i class="fa fa-external-link-alt"></i></span> — 查找字符串首次出现的位置</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RycnBvcy5waHA=">strrpos<i class="fa fa-external-link-alt"></i></span> — 计算指定字符串在目标字符串中最后一次出现的位置</li>
</ul>
<p>转换函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RyLXJlcGxhY2UucGhw">str_replace<i class="fa fa-external-link-alt"></i></span> — 子字符串替换</li>
</ul>
<p>格式化函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucHJpbnQucGhw">print<i class="fa fa-external-link-alt"></i></span> — 输出字符串</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucHJpbnRmLnBocA==">printf<i class="fa fa-external-link-alt"></i></span> — 输出格式化字符串</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3ByaW50Zi5waHA=">sprintf<i class="fa fa-external-link-alt"></i></span> — 返回格式化字符串</li>
</ul>
<p>其他</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RyLXJlcGVhdC5waHA=">str_repeat<i class="fa fa-external-link-alt"></i></span> — 重复一个字符串</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RyLXNodWZmbGUucGhw">str_shuffle<i class="fa fa-external-link-alt"></i></span> — 随机打乱一个字符串</li>
</ul>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p><code>array</code>，将一组数据存储到一个容器中，用变量指向该容器，然后可以通过变量一次性得到容器中所有数据。</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p> PHP 中有多种定义数据的方式：</p>
<ol>
<li>使用 array 关键字：最常用</li>
<li>使用中括号包裹数据</li>
<li>隐形定义数组：给变量增加一个中括号，系统自动变成数组<ol>
<li>如果不提供下标，自动从 0 开始，0 被占用，则往后沿用</li>
</ol>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="variable">$arr2</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="variable">$arr3</span>[] = <span class="number">4</span>; <span class="comment">// array(1) &#123; [0]=&gt; int(4) &#125;</span></span><br><span class="line"><span class="variable">$arr4</span>[<span class="number">1</span>] = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li>可以整数下标或者字符串下标<ol>
<li>如果数组下标都为整数：索引数组</li>
<li>如果下标都为字符串：关联数组</li>
</ol>
</li>
<li>不同下标可以混合存在：混合数组</li>
<li>数组元素的顺序以放入顺序为准，跟下标无关</li>
<li>数字下标的自增长特性：从 0 开始自动增长，如果被占用，则自动加一</li>
<li>特殊值下标的自动转换<ol>
<li>布尔值</li>
<li>空</li>
</ol>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span>[<span class="literal">false</span>] = <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$arr1</span>[<span class="literal">true</span>] = <span class="literal">true</span>;</span><br><span class="line"><span class="variable">$arr1</span>[<span class="literal">NULL</span>] = <span class="literal">NULL</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$arr1</span>);</span><br><span class="line"><span class="comment">// array(3) &#123; [0]=&gt; bool(false) [1]=&gt; bool(true) [&quot;&quot;]=&gt; NULL &#125;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>PHP 中数组元素没有类型限制</li>
<li>PHP 中数组元素没有长度限制</li>
</ol>
<p>PHP 中的数据是很大的数据，所以存储位置是堆区，为当前数组分配一块连续的内存。</p>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><p>数据里面的元素又是数组</p>
<h4 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h4><p>数组所有元素都是一维数组。</p>
<h4 id="多维数组-1"><a href="#多维数组-1" class="headerlink" title="多维数组"></a>多维数组</h4><p>第二维的数组元素中可以继续是数组，在 PHP 中没有维度限制。</p>
<p>不建议使用超过三维以上的数组，会增加访问的复杂度，降低访问效率。</p>
<h4 id="异形数组（不规则数组）"><a href="#异形数组（不规则数组）" class="headerlink" title="异形数组（不规则数组）"></a>异形数组（不规则数组）</h4><p>数组中的元素不规则，有普通基本变量也有数组。</p>
<p>在实际开发中，并不常用，尽让让数组规律。</p>
<h3 id="数组便利"><a href="#数组便利" class="headerlink" title="数组便利"></a>数组便利</h3><p>普通数组数据的访问都是通过数组元素的下标来实现访问，如果说数组中所有的数据都需要依次输出出来，就需要我们使用到一些简化的规则来实现自动获取下标以及输出数组的元素。</p>
<p>使用 <code>foreach</code> 遍历语法</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$arr1</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$value</span>) &#123;</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="variable">$key</span>, <span class="variable">$value</span>);</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="string">&#x27;&lt;hr/&gt;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$arr1</span> <span class="keyword">as</span> <span class="variable">$value</span>) &#123;</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="variable">$value</span>);</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="string">&#x27;&lt;hr/&gt;&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原理：本质是数组的内部有一颗指针，默认是指向数组元素的第一个元素， <code>foreach</code> 就是利用指针去获取数据，同时移动指针。</p>
<ol>
<li><code>foreach</code> 会重置指针：让指针指向第一个元素</li>
<li>进入 <code>foreach</code> 循环：通过指针获得当前第一个元素，然后将下标取出放到对应的下标变量 <code>$key</code> 中，将值取出来放到对应的值变量 <code>$value</code> 中</li>
<li>进入循环内部（循环体），开始执行；</li>
<li>重复 2 和 3 直到 在 2 的时候遇到指针无法取到内容（也就是数组遍历结束）</li>
</ol>
<h4 id="For-循环便利数组"><a href="#For-循环便利数组" class="headerlink" title="For 循环便利数组"></a>For 循环便利数组</h4><p>基于已知边界条件（起始和结束）然后有条件的变化（规律），因此：for 循环便利数组有对应条件。</p>
<ol>
<li>获取数组长度：<code>count(数组)</code> 得到数组元素长度</li>
<li>要求数组元素的下标是规律的数字</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">count</span>(<span class="variable">$arr1</span>); <span class="variable">$i</span>++) &#123;</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="variable">$arr1</span>[<span class="variable">$i</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><p>配合 <code>each</code> 和 <code>list</code> 遍历数组</p>
<p><code>while</code> 是在外部定义边界条件，如果要实现可以和 <code>for</code> 循环差不多；</p>
<p><code>each</code> 函数：能够从一个数组中获取当前数组指针所指向的元素的下标和值，拿到之后将数组指针下移，同时将拿到的元素下标和值以一个四个元素的数组返回。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arr1</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">each</span>(<span class="variable">$arr1</span>));</span><br></pre></td></tr></table></figure>

<p>需要注意的是，<code>each()</code> 函数在 PHP 7.2 版本中已被弃用，并在 PHP 7.4 版本中被移除。</p>
<p><code>list</code> 函数是一种结构，不算一种函数，是 <code>list</code> 提供一堆变量去从一个数组中取得元素值，然后依次存放到对应的变量当中。</p>
<p><code>list</code> 必须从索引数组中去获取数据，而且必须从 0 开始。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;a&quot;</span> =&gt; <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span> =&gt; <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;c&quot;</span> =&gt; <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$first</span>) = <span class="variable">$array</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$first</span>); <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">list</span>(<span class="variable">$first</span>, <span class="variable">$second</span>) = <span class="variable">$array</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$first</span>, <span class="variable">$second</span>); <span class="comment">// 1,2 </span></span><br></pre></td></tr></table></figure>

<p><code>list</code> 与 <code>each</code> 配合特别好：each 一定有两个元素就是 0 和 1 下标元素。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="keyword">array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;a&quot;</span> =&gt; <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span> =&gt; <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;c&quot;</span> =&gt; <span class="string">&quot;cherry&quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (<span class="title function_ invoke__">each</span>(<span class="variable">$array</span>)) &#123;</span><br><span class="line">    <span class="keyword">list</span>(<span class="variable">$key</span>, <span class="variable">$value</span>) = <span class="title function_ invoke__">each</span>(<span class="variable">$array</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$key</span> . <span class="string">&quot;: &quot;</span> . <span class="variable">$value</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvcmVmLmFycmF5LnBocA==">https://www.php.net/manual/zh/ref.array.php<i class="fa fa-external-link-alt"></i></span></p>
<p>排序函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc29ydC5waHA=">sort<i class="fa fa-external-link-alt"></i></span> — 对数组升序排序</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucnNvcnQucGhw">rsort<i class="fa fa-external-link-alt"></i></span> — 对数组降序排序</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXNvcnQucGhw">asort<i class="fa fa-external-link-alt"></i></span> — 对数组进行升序排序并保持索引关系</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJzb3J0LnBocA==">arsort<i class="fa fa-external-link-alt"></i></span> — 对数组进行降向排序并保持索引关系</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ua3Jzb3J0LnBocA==">krsort<i class="fa fa-external-link-alt"></i></span> — 对数组按照键名逆向排序</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ua3NvcnQucGhw">ksort<i class="fa fa-external-link-alt"></i></span> — 对数组根据键名升序排序</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc2h1ZmZsZS5waHA=">shuffle<i class="fa fa-external-link-alt"></i></span> — 打乱数组</li>
</ul>
<p>指针函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucmVzZXQucGhw">reset<i class="fa fa-external-link-alt"></i></span> — 将数组的内部指针指向第一个单元</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZW5kLnBocA==">end<i class="fa fa-external-link-alt"></i></span> — 将数组的内部指针指向最后一个单元</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ubmV4dC5waHA=">next<i class="fa fa-external-link-alt"></i></span> — 将数组中的内部指针向前移动一位</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ucHJldi5waHA=">prev<i class="fa fa-external-link-alt"></i></span> — 将数组的内部指针倒回一位</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uY3VycmVudC5waHA=">current<i class="fa fa-external-link-alt"></i></span> — 返回数组中的当前值</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ua2V5LnBocA==">key<i class="fa fa-external-link-alt"></i></span> — 从关联数组中取得键名</li>
</ul>
<p><code>next</code> 和 <code>prev</code> 会移动指针，有可能导致指针移动到最前或者最后（离开数组），导致数组不能使用，通过 <code>next</code> 和 <code>prev</code> 不能回到正确的指针位置，只能通过 <code>end</code> 或者 <code>reset</code> 进行指针重置。</p>
<p>其他函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uY291bnQucGhw">count<i class="fa fa-external-link-alt"></i></span> — 统计数组、<code>Countable</code> 对象中所有元素的数量</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktcHVzaC5waHA=">array_push<i class="fa fa-external-link-alt"></i></span> — 将一个或多个单元压入数组的末尾（入栈）</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktcG9wLnBocA==">array_pop<i class="fa fa-external-link-alt"></i></span> — 弹出数组最后一个单元（出栈）</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktc2hpZnQucGhw">array_shift<i class="fa fa-external-link-alt"></i></span> — 将数组开头的单元移出数组</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktdW5zaGlmdC5waHA=">array_unshift<i class="fa fa-external-link-alt"></i></span> — 在数组开头插入一个或多个单元</li>
</ul>
<p>PHP 模拟数据结构中的队列和栈。</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktcmV2ZXJzZS5waHA=">array_reverse<i class="fa fa-external-link-alt"></i></span> — 返回单元顺序相反的数组</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uaW4tYXJyYXkucGhw">in_array<i class="fa fa-external-link-alt"></i></span> — 检查数组中是否存在某个值</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXkta2V5cy5waHA=">array_keys<i class="fa fa-external-link-alt"></i></span> — 返回数组中部分的或所有的键名</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uYXJyYXktdmFsdWVzLnBocA==">array_values<i class="fa fa-external-link-alt"></i></span> — 返回数组中所有的值</li>
</ul>
<h2 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvcmVmLmRhdGV0aW1lLnBocA==">https://www.php.net/manual/zh/ref.datetime.php<i class="fa fa-external-link-alt"></i></span></p>
<p>函数</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24udGltZS5waHA=">time<i class="fa fa-external-link-alt"></i></span> — 返回当前的 Unix 时间戳</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ubWljcm90aW1lLnBocA==">microtime<i class="fa fa-external-link-alt"></i></span> — 返回当前 Unix 时间戳和微秒数</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS5waHA=">date<i class="fa fa-external-link-alt"></i></span> — 格式化 Unix 时间戳</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RydG90aW1lLnBocA==">strtotime<i class="fa fa-external-link-alt"></i></span> — 将任何英文文本日期时间描述解析为 Unix 时间戳</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24ubWt0aW1lLnBocA==">mktime<i class="fa fa-external-link-alt"></i></span> — 取得一个日期的 Unix 时间戳</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS1jcmVhdGUucGhw">date_create<i class="fa fa-external-link-alt"></i></span> — 创建一个日期时间对象</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS1mb3JtYXQucGhw">date_format<i class="fa fa-external-link-alt"></i></span> — 别名 DateTime::format，创建一个日期时间对象</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS1kaWZmLnBocA==">date_diff<i class="fa fa-external-link-alt"></i></span> — 别名 DateTime::diff，计算两个日期之差</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uc3RyZnRpbWUucGhw">strftime<i class="fa fa-external-link-alt"></i></span> — 根据区域设置格式化本地时间&#x2F;日期</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZ21kYXRlLnBocA==">gmdate<i class="fa fa-external-link-alt"></i></span> — 格式化 GMT&#x2F;UTC 日期／时间</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS1kZWZhdWx0LXRpbWV6b25lLWdldC5waHA=">date_default_timezone_get<i class="fa fa-external-link-alt"></i></span> — 取得脚本中所有日期&#x2F;时间函数所使用的默认时区</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24uZGF0ZS1kZWZhdWx0LXRpbWV6b25lLXNldC5waHA=">date_default_timezone_set<i class="fa fa-external-link-alt"></i></span> — 设置脚本中所有日期&#x2F;时间函数使用的默认时区（只能在脚本开始时设置默认时区，不能在运行时动态设置）</li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvZnVuY3Rpb24udGltZXpvbmUtaWRlbnRpZmllcnMtbGlzdC5waHA=">timezone_identifiers_list<i class="fa fa-external-link-alt"></i></span> — 别名 DateTimeZone::listIdentifiers，返回所有可用时区标识符的数组</li>
</ul>
<h3 id="DateTime-对象"><a href="#DateTime-对象" class="headerlink" title="DateTime 对象"></a>DateTime 对象</h3><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvemgvY2xhc3MuZGF0ZXRpbWU=">https://www.php.net/manual/zh/class.datetime<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个对象</span></span><br><span class="line"><span class="variable">$datetime</span> = <span class="keyword">new</span> <span class="title class_">DateTime</span>(<span class="string">&#x27;now&#x27;</span>);</span><br><span class="line"><span class="comment">// 增加、减少时间间隔</span></span><br><span class="line"><span class="variable">$datetime</span>-&gt;<span class="title function_ invoke__">modify</span>(<span class="string">&#x27;+1 day&#x27;</span>);</span><br><span class="line"><span class="variable">$datetime</span>-&gt;<span class="title function_ invoke__">modify</span>(<span class="string">&#x27;-1 hour&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="variable">$interval</span> = <span class="keyword">new</span> <span class="title class_">DateInterval</span>(<span class="string">&#x27;P1D&#x27;</span>);</span><br><span class="line"><span class="variable">$datetime</span>-&gt;<span class="title function_ invoke__">add</span>(<span class="variable">$interval</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$datetime</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="string">&#x27;Y-m-d H:i:s&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h1 id="面相对象"><a href="#面相对象" class="headerlink" title="面相对象"></a>面相对象</h1><p>对象：在面相对象的程序设计（OOP）中，对象是一个由信息及对信息进行处理的描述所组成的整体，是对现实世界的抽象。</p>
<p>面向对象：</p>
<ul>
<li>面相对象是一种编程思想和方法，它将程序中的<strong>数据</strong>和<strong>操作数据的方法</strong>封装在一起，形成对象，并通过对对象之间的交互和消息传递来完成程序的功能</li>
<li>面相对象编程（OOP）强调数据的封装、继承、多态和动态绑定等特性，使得程序具有更好的可扩展性、可维护性和可重用性</li>
</ul>
<p>对象的主要三个特性：</p>
<ul>
<li>对象的行为：对象可以执行的操作</li>
<li>对象的形态：对对象不同的行为是如何响应的</li>
<li>对象的表示：对象的表示就相当于身份证，具体区分在相同的行为与状态下有什么不同（在面向对象编程中，对象的表示通常通过类来实现）</li>
</ul>
<p>面相对象编程的主要特性：</p>
<ul>
<li>封装：指将对象的属性和方法封装在一起，使得外部无法直接访问和修改对象的内部状态。通过访问控制修饰符（<code>public</code>、<code>private</code>、<code>protected</code>）来限制属性和方法的访问权限，从而实现封装；</li>
<li>继承：指可以创建一个新的类，该类继承（extends）了父类的属性和方法，并且可以添加自己的属性和方法。通过继承，可以避免重复编写相似的代码，并且可以实现代码的重用；</li>
<li>多态：指可以使用一个父类类型的变量来引用不同子类类型的对象，从而实现对不同对象的统一操作。多态可以使得代码更加灵活，具有更好的可扩展性和可维护性。在 PHP 中，多态可以通过实现接口 （interface）和使用抽象类 （abstract class）来实现；</li>
</ul>
<p>类（class）</p>
<ul>
<li>定义了一件事物的抽象特点</li>
<li>类的定义包含了数据的形式以及对数据的操作</li>
</ul>
<h2 id="类的定义和调用"><a href="#类的定义和调用" class="headerlink" title="类的定义和调用"></a>类的定义和调用</h2><p>定义：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;在吃饭.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用：</p>
<p>使用 <code>new</code> 实例化对象</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$cat</span>-&gt;name;</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br><span class="line"><span class="comment">// 小猫在吃饭.</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 也可以</span></span><br><span class="line"><span class="keyword">echo</span> (<span class="keyword">new</span> <span class="title class_">Animal</span>())-&gt;name;</span><br></pre></td></tr></table></figure>

<h2 id="方法和属性"><a href="#方法和属性" class="headerlink" title="方法和属性"></a>方法和属性</h2><p>类的方法也就是类里面的函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;在吃饭.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">// 函数如果前面不带 public，默认就是 public</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;在说话.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>表示自身的对象：<code>$this</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">          <span class="comment">// 一般会使用这种方式来调用</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在吃饭.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在说话.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<p>还可以这样</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$dog</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$dog</span>-&gt;name = <span class="string">&quot;小狗&quot;</span>;</span><br><span class="line"><span class="variable">$dog</span>-&gt;<span class="title function_ invoke__">say</span>(); <span class="comment">// 小狗在说话.</span></span><br></pre></td></tr></table></figure>

<h2 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h2><p>用于设置类中的成员或者方法可访问的区域。</p>
<ul>
<li><code>public</code>：公共的类成员可以在任何地方被访问（类里面，外部调用时，子类继承父类时）；</li>
<li><code>protected</code>：受保护的类成员则可以被其自身以及其子类和父类访问（自身用，继承可用，类外面不能用）；</li>
<li><code>private</code>：私有的类成员则只能被其定义所在的类访问（自己的，继承不可用，类外部也不可用）；</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line">    <span class="comment">// 或者</span></span><br><span class="line">    <span class="comment">//protected $name = &quot;小猫&quot;;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在吃饭.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在说话.&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params"><span class="variable">$name</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">setName</span>(<span class="string">&quot;小花&quot;</span>);</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">say</span>();</span><br></pre></td></tr></table></figure>

<h2 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h2><p><code>__construct</code></p>
<ul>
<li>构造函数是一种特殊的方法，在创建一个新对象时，他会被自动调用；</li>
<li>它可以用来初始化对象的属性或执行其他必要的操作；</li>
<li>没有返回值；</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$brith</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$brith</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;brith = <span class="variable">$brith</span>;</span><br><span class="line"></span><br><span class="line">        <span class="variable">$days</span> = (<span class="title function_ invoke__">time</span>() - <span class="title function_ invoke__">strtotime</span>(<span class="variable">$this</span>-&gt;brith)) / <span class="number">3600</span> / <span class="number">24</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;age = <span class="title function_ invoke__">floor</span>(<span class="variable">$days</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在吃饭。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getInfo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$this</span>-&gt;name 的年龄是 <span class="subst">$this</span>-&gt;age 天，出生日期为 <span class="subst">$this</span>-&gt;brith&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>(<span class="string">&quot;cat&quot;</span>, <span class="string">&quot;2024-06-26&quot;</span>);</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">getInfo</span>(); <span class="comment">// cat 的年龄是 3 天，出生日期为 2024-06-26</span></span><br></pre></td></tr></table></figure>

<p><code>__destruct</code></p>
<ul>
<li>析构函数是一种特殊的方法，他在对象被销毁时自动调用</li>
<li>它可以用来执行一些清理操作，例如释放资源或关闭数据库连接</li>
<li>当对象不再被引用或脚本执行结束时，析构函数会被自动调用</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"><span class="variable">$i</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;saying-&#x27;</span> . <span class="variable">$i</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;析构函数被调用\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> <span class="title class_">Class1</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">3</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$i</span> == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">unset</span>(<span class="variable">$obj</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$obj</span>)</span><br><span class="line">        <span class="variable">$obj</span>-&gt;<span class="title function_ invoke__">say</span>(<span class="variable">$i</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// saying-0saying-1析构函数被调用</span></span><br><span class="line"><span class="comment">// Warning: Undefined variable $obj in /php-study/3.php on line 23</span></span><br></pre></td></tr></table></figure>

<h2 id="静态变量和静态方法"><a href="#静态变量和静态方法" class="headerlink" title="静态变量和静态方法"></a>静态变量和静态方法</h2><p><strong>静态</strong>指的是无需对类进行实例化，就可以直接调用这些属性和方法</p>
<p>所有静态变量进行的操作都会对所有对象起作用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$cat</span> = <span class="string">&quot;小花&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;cat; <span class="comment">// 打印为空</span></span><br><span class="line"><span class="comment">//        Notice: Accessing static property Animal::$cat as non static in /php-study/3.php on line 10</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//Warning: Undefined property: Animal::$cat in /php-study/3.php on line 10</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这样可以取到</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="title class_">Animal</span>::<span class="variable">$cat</span>;</span><br><span class="line">        <span class="comment">// 但是一般不像上面这样用，一般使用 self</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$cat</span>;</span><br><span class="line">        <span class="comment">// 也可以这样，但是一般也不用</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>::<span class="variable">$cat</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">say</span>(); <span class="comment">// 小花小花小花</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$dog</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$dog</span>::<span class="variable">$cat</span> = <span class="string">&quot;小黑&quot;</span>;</span><br><span class="line"><span class="variable">$dog</span>-&gt;<span class="title function_ invoke__">say</span>(); <span class="comment">// 小黑小黑小黑</span></span><br><span class="line"><span class="comment">// 静态变量被修改之后，其他使用类的变量也会受到影响</span></span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">say</span>(); <span class="comment">// 小黑小黑小黑</span></span><br></pre></td></tr></table></figure>

<h3 id="类常量"><a href="#类常量" class="headerlink" title="类常量"></a>类常量</h3><p>使用场景：所有的对象共用一个属性</p>
<p>静态属性与类常量相似，唯一的区分是类常量不可以更改，静态属性可以更改。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">        <span class="comment">// 定义</span></span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">C1</span> = <span class="string">&quot;c1&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">                <span class="comment">// 使用</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable constant_">C1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者另外一种使用方式</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title class_">Animal</span>::<span class="variable constant_">C1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$s1</span> = <span class="string">&quot;s1&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 静态方法调用静态方法</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="title function_ invoke__">say</span>();</span><br><span class="line">        <span class="comment">// 静态方法调用非静态的方法</span></span><br><span class="line">        <span class="keyword">echo</span> (<span class="keyword">new</span> <span class="built_in">self</span>)-&gt;<span class="title function_ invoke__">hello</span>();</span><br><span class="line">        <span class="comment">// 静态方法调用非静态的对象</span></span><br><span class="line">        <span class="keyword">echo</span> (<span class="keyword">new</span> <span class="built_in">self</span>)-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// $name 不是静态变量，不能直接调用</span></span><br><span class="line"><span class="comment">//        echo self::$name;</span></span><br><span class="line">        <span class="comment">// 静态方法里面可以调用静态方法、静态变量</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$s1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><p>指可以创建一个新的类，该类继承（<code>extends</code>）了父类的属性和方法，并且可以添加自己的属性和方法。通过继承，可以避免重复编写相似的代码，并且可以实现代码的重用。</p>
<p>注意：继承不一定能访问。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$age</span> = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$color</span> = <span class="string">&quot;black&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只能打印类中的属性，不能打印方法</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">new</span> <span class="title class_">Animal</span>); </span><br><span class="line"><span class="comment">// object(Animal)#1 (3) &#123; [&quot;name&quot;]=&gt; string(6) &quot;小猫&quot; [&quot;age&quot;:protected]=&gt; int(3) [&quot;color&quot;:&quot;Animal&quot;:private]=&gt; string(5) &quot;black&quot; &#125;</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="keyword">new</span> <span class="title class_">Cat</span>); </span><br><span class="line"><span class="comment">// object(Cat)#1 (3) &#123; [&quot;name&quot;]=&gt; string(6) &quot;小猫&quot; [&quot;age&quot;:protected]=&gt; int(3) [&quot;color&quot;:&quot;Animal&quot;:private]=&gt; string(5) &quot;black&quot; &#125;</span></span><br></pre></td></tr></table></figure>

<p>如果直接访问：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$cat</span>-&gt;name);</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$cat</span>-&gt;age); <span class="comment">// Fatal error: Uncaught Error: Cannot access protected property Cat::$age in /php-study/3.php:19 Stack trace: #0 &#123;main&#125; thrown in /php-study/3.php on line 19</span></span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$cat</span>-&gt;color); <span class="comment">// Warning: Undefined property: Cat::$color in /php-study/3.php on line 20</span></span><br></pre></td></tr></table></figure>

<p>被保护的和私有的，都无法被外部访问。</p>
<p>虽然说被保护的可以被继承拿到和使用，但是只限于在子类中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getColor</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">          <span class="comment">// 出现报错没定义</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$cat</span>-&gt;name);</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">getAge</span>();</span><br></pre></td></tr></table></figure>

<p>子类没有构造函数，但是可以继承自父类</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$age</span> = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$color</span> = <span class="string">&quot;black&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在吃饭&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在睡觉&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承时，也会继承构造函数</span></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;miao&quot;</span>);</span><br><span class="line"><span class="comment">// 继承时，可直接使用父类的方法</span></span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<h3 id="方法和属性重写"><a href="#方法和属性重写" class="headerlink" title="方法和属性重写"></a>方法和属性重写</h3><p>如果从父类继承的方法或属性不能满足子类的需求，可以对其进行改写。（即使是构造函数也可以重写）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$age</span> = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$color</span> = <span class="string">&quot;black&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;name = <span class="variable">$name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在吃饭&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在睡觉&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">      <span class="comment">// 重写</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;正在吃饭&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;miao&quot;</span>); </span><br><span class="line"><span class="comment">// 子类在调用是，会执行子类重写的方法</span></span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>(); <span class="comment">// miao正在吃饭</span></span><br></pre></td></tr></table></figure>

<h3 id="final-关键字"><a href="#final-关键字" class="headerlink" title="final 关键字"></a>final 关键字</h3><ul>
<li>防止类被继承</li>
<li>防止类的方法被重写</li>
</ul>
<p>如果在一个类前面加 <code>final</code>，那么这个类就不能被继承</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">c1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果在一个方法前加 <code>final</code>，那么这个方法就不能被重写</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;吃饭&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：<code>final</code> 不能用于属性（也就是内部的变量）。</p>
<h3 id="调用父类方法"><a href="#调用父类方法" class="headerlink" title="调用父类方法"></a>调用父类方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">      <span class="comment">// 这种写法也可以，子类构造的时候传两个参数，调用父类时只使用一个</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>，<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">__construct</span>(<span class="variable">$name</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">myEat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">          <span class="comment">// 调用父类的方法</span></span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">eat</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态延迟绑定-static"><a href="#静态延迟绑定-static" class="headerlink" title="静态延迟绑定 static"></a>静态延迟绑定 static</h3><p>是指在运行时根据实际调用的类来确定静态方法或属性的绑定</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">            <span class="comment">// 小猫在吃饭 --- 小黑在吃饭</span></span><br><span class="line">          <span class="comment">// 读取自己的变量</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">self</span>::<span class="variable">$name</span> . <span class="string">&quot;在吃饭&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27; --- &#x27;</span>;</span><br><span class="line">          <span class="comment">// 根据当前类的静态变量读取</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="built_in">static</span>::<span class="variable">$name</span> . <span class="string">&quot;在吃饭&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">static</span> <span class="variable">$name</span> = <span class="string">&quot;小黑&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>;</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<h2 id="类的多态"><a href="#类的多态" class="headerlink" title="类的多态"></a>类的多态</h2><ul>
<li>多态性允许不同类型的对象对象同的消息作出不同的响应</li>
<li>多态性通过方法重写（覆盖）和方法重载来实现</li>
<li>方法重写是指子类重写父类的方法，以改变方法的实现细节</li>
<li>方法重载是指在同一个类中根据参数个数或者类型不同来实现不同功能</li>
<li>需要注意的是，多态性只适用于继承关系的类。子类必须重写父类的方法才能实现多态性</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$name</span> = <span class="string">&quot;动物&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在叫&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在喵&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$name</span> = <span class="string">&quot;小狗&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;name . <span class="string">&quot;在汪&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$animal</span> = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="variable">$dog</span> = <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line"><span class="variable">$animal</span>-&gt;<span class="title function_ invoke__">makeSound</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">makeSound</span>();</span><br><span class="line"><span class="variable">$dog</span>-&gt;<span class="title function_ invoke__">makeSound</span>();</span><br></pre></td></tr></table></figure>

<h3 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h3><p>需要通参数和参数数量来实现重载，需要用到这两个参数</p>
<p>普通函数中：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$args</span> = <span class="title function_ invoke__">func_get_args</span>();</span><br><span class="line">    <span class="variable">$numArgs</span> = <span class="title function_ invoke__">func_num_args</span>();</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="variable">$args</span>, <span class="variable">$numArgs</span>); <span class="comment">// array(4) &#123; [0]=&gt; int(1) [1]=&gt; int(2) [2]=&gt; int(3) [3]=&gt; int(4) &#125; int(4)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">test</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<p>类中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$name</span> = <span class="string">&quot;小猫&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$numArgs</span> = <span class="title function_ invoke__">func_num_args</span>();</span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable">$numArgs</span>) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&#x27;执行 1 个参数的事件&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&#x27;执行 2 个参数的事件&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&#x27;执行默认事件&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$cat</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="variable">$cat</span>-&gt;<span class="title function_ invoke__">makeSound</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="接口和抽象类"><a href="#接口和抽象类" class="headerlink" title="接口和抽象类"></a>接口和抽象类</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口必须实现这三个方法</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">      <span class="comment">// 可以包含常量</span></span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">NAME</span> = <span class="string">&quot;mitaka&quot;</span>;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">// 可以包含静态方法</span></span><br><span class="line">      <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getSound</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不能被实例化</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Animals</span>; <span class="comment">// 无法实例化接口 &#x27;Animals&#x27;</span></span><br></pre></td></tr></table></figure>

<p>接口是指一组方法的集合，不是类，不能被实例化。</p>
<ul>
<li>可以指定某个类必须实现那些方法，但不需要定义这些方法的具体内容</li>
<li>只可以使用 <code>public</code></li>
<li>通常用于定义一些规范，让代码更加有条理，不易出错</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表示这个类实现了方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimalA</span> <span class="keyword">implements</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果没有实现方法中所有的方法，就会出现报错。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以直接使用类的常量</span></span><br><span class="line"><span class="keyword">echo</span> AnimalA::<span class="variable constant_">NAME</span>;</span><br><span class="line"><span class="comment">// 但是在类中不能重写接口中的常量</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimalA</span> <span class="keyword">implements</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">NAME</span> = <span class="string">&quot;mitaka&quot;</span>; <span class="comment">// 无法从接口 &#x27;Animals&#x27; 继承先前继承的常量 &#x27;NAME&#x27; 或将其重写</span></span><br></pre></td></tr></table></figure>

<p>接口可以有多个，定义类的时候也可以实现多个接口</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">People</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现两个接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimalB</span> <span class="keyword">implements</span> <span class="title">Animals</span>, <span class="title">People</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="抽象类和抽象方法"><a href="#抽象类和抽象方法" class="headerlink" title="抽象类和抽象方法"></a>抽象类和抽象方法</h2><p>和接口非常类似，使用它也是定义一种约束或规范，适合较大型的项目或者库使用</p>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p>使用关键字 <code>abstract</code> 定义一个类为抽象类</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>抽象类是一种特殊的类，只能被继承，不能被实例化</li>
<li>抽象类用于定义一组相关的方法，但这些方法的具体实现由继承它的子类来完成</li>
<li>子类继承抽象类后，必须实现抽象类中的所有抽象方法</li>
<li>抽象类可以包含抽象方法和普通方法</li>
</ul>
<h3 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h3><p>使用关键字 <code>abstract</code> 定义一个方法为抽象方法</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething1</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething2</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>抽象方法是没有具体实现的方法，只有方法的声明，而不需要方法体</li>
<li>抽象方法只能存在于抽象类中</li>
<li>可以使用 <code>protected</code>，但不能使用 <code>private</code> 私有</li>
</ul>
<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething1</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 抽象类中可以带有普通方法，普通方法在子类中可以不用实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">play</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;play&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething2</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C1</span> <span class="keyword">extends</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 实现抽象类的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;eat&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//$a1 = new Animals; // 无法实例化抽象类 &#x27;Animals&#x27;</span></span><br><span class="line"><span class="variable">$a1</span> = <span class="keyword">new</span> <span class="title class_">C1</span>();</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">play</span>();</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<h3 id="抽象类和方法的区别"><a href="#抽象类和方法的区别" class="headerlink" title="抽象类和方法的区别"></a>抽象类和方法的区别</h3><ol>
<li>抽象类可以包含非抽象方法的实现，而接口只能包含方法的声明，没有方法的实现</li>
<li>类只能继承一个抽象类，但可以实现多个接口</li>
<li>抽象类可以有构造函数，而接口不能有构造函数</li>
<li>抽象类中的方法可以有 <code>public</code>、<code>protected</code> 和 <code>private</code> 访问修饰符，而接口中的方法只能是 <code>public</code></li>
<li>子类继承抽象类时，必须实现抽象类中的所有抽象方法，否则子类也必须声明为抽象类；子类实现接口时，必须实现接口中的所有方法</li>
</ol>
<p>可以理解为：抽象类时对一种事物的抽象，接口是对行为的抽象。继承关注<strong>是不是</strong>，接口关注<strong>有没有</strong></p>
<h2 id="trait-代码复用"><a href="#trait-代码复用" class="headerlink" title="trait 代码复用"></a>trait 代码复用</h2><ul>
<li>解决类的单一继承问题</li>
<li>可同时使用多个 <code>trait</code>，用逗号隔开</li>
<li>把常用的、通用的代码抽离出来，写成 <code>trait</code></li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>, <span class="title">B</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>和类的继承非常像，但是 <code>trait</code> 里面不能有类常量，且 <code>trait</code> 不能被实例化。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;eat&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a1</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<p>可以改写为</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;eat&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Animals</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a1</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">eat</span>();</span><br></pre></td></tr></table></figure>

<ul>
<li><code>trait</code> 中可以使用抽象方法</li>
<li><code>trait</code> 中可以使用静态属性和静态方法</li>
<li><code>trait</code> 中可以使用其他 <code>trait</code> </li>
<li><code>trait</code>  中可以使用 <code>parent</code></li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">T1</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;T1里面的&#x27;</span> . <span class="keyword">__FUNCTION__</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Animals</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">T1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Animals里面的&#x27;</span> . <span class="keyword">__FUNCTION__</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eat</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;eat&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Animals</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a1</span> = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">Test</span>(); <span class="comment">// Animals里面的Test</span></span><br></pre></td></tr></table></figure>

<p>方法重写时，会覆盖所继承的方法。</p>
<h3 id="同名冲突"><a href="#同名冲突" class="headerlink" title="同名冲突"></a>同名冲突</h3><p>当一个类同时引入了多个 <code>Trait</code>，并且这些 <code>Trait</code> 中存在同名方法时，就会产生方法冲突。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">A</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;这是 A 的&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;这是 B 的&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 由于与 &#x27;A&#x27; 冲突，因此不会应用特征方法 &#x27;doSomething&#x27;</span></span><br><span class="line">    <span class="comment">//use A, B;</span></span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>, <span class="title">B</span> &#123;</span><br><span class="line">        <span class="title">B</span>::<span class="title">doSomething</span> <span class="title">insteadof</span> <span class="title">A</span>; <span class="comment">// 使用 B 而不使用 A</span></span><br><span class="line">        A::<span class="variable constant_">doSomething</span> <span class="keyword">as</span> ADo;<span class="comment">// 使用别名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a1</span> = <span class="keyword">new</span> <span class="title class_">T2</span>;</span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">doSomething</span>(); <span class="comment">// 输出 B 的</span></span><br><span class="line"><span class="variable">$a1</span>-&gt;<span class="title function_ invoke__">ADo</span>();          <span class="comment">// 输出 A 的</span></span><br></pre></td></tr></table></figure>

<p>还可以这样</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T2</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">A</span>, <span class="title">B</span> &#123;</span><br><span class="line">        <span class="title">B</span>::<span class="title">doSomething</span> <span class="title">insteadof</span> <span class="title">A</span>;</span><br><span class="line">        <span class="comment">// 重名为 protected，放在内部使用</span></span><br><span class="line">        A::<span class="variable constant_">doSomething</span> <span class="keyword">as</span> <span class="keyword">protected</span> ADo;</span><br><span class="line">        <span class="comment">// 或者改为 private</span></span><br><span class="line">        A::<span class="variable constant_">doSomething</span> <span class="keyword">as</span> <span class="keyword">private</span> ADo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">doSomethingT2</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">ADo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果里面的属性（也就是变量）名冲突，就无法使用 <code>insteadof</code> 或者重名来解决。</p>
<p>但是如果在类中有跟 <code>trait</code> 里面有相同的属性和值（也就是变量名和值都相同）是可以的，但是属性相同、值不同就会报错。</p>
<h1 id="其他一些用法"><a href="#其他一些用法" class="headerlink" title="其他一些用法"></a>其他一些用法</h1><h2 id="错误捕捉处理"><a href="#错误捕捉处理" class="headerlink" title="错误捕捉处理"></a>错误捕捉处理</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// code</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">        <span class="comment">// 将错误捕捉到赋予 e</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="预处理语句"><a href="#预处理语句" class="headerlink" title="预处理语句"></a>预处理语句</h2><p>Prepared Statements，用于执行带有参数的 SQL 语句。</p>
<ul>
<li>预处理语句可以提高安全性，对于防止 SQL 注入是非常有用的</li>
<li>允许重复使用相同的 sql 模板而只需要更改参数，提高执行效率</li>
</ul>
<p>SQL 注入：例如使用用户名密码登录时，要判断用户是否存在</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;?&#x27;</span></span><br></pre></td></tr></table></figure>

<p>但是如果页面传入的是 <code>admin&#39;--</code> 则可能出现意想不到的情况，甚至是执行删除语法。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="string">&#x27;admin&#x27;</span> <span class="comment">--&#x27;</span></span><br></pre></td></tr></table></figure>

<p>预处理</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM user WHERE username = ? AND password = ?&quot;</span>;</span><br><span class="line"><span class="variable">$stmt</span> = <span class="variable">$conn</span>-&gt;<span class="title function_ invoke__">prepare</span>(<span class="variable">$sql</span>);</span><br><span class="line"><span class="comment">// 绑定</span></span><br><span class="line"><span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">bind_param</span>(<span class="string">&quot;ss&quot;</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line"><span class="comment">// 执行</span></span><br><span class="line"><span class="variable">$stmt</span>-&gt;<span class="title function_ invoke__">execute</span>();</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Reference/" rel="tag"># 学习笔记</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/6663603b.html" rel="prev" title="LeetCode Hot100笔记-下">
                  <i class="fa fa-angle-left"></i> LeetCode Hot100笔记-下
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Mitaka xu</span>
  </div>
  <div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hpYW95ZXNoaXl1" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.28/fancybox/fancybox.umd.js" integrity="sha256-ytMJGN3toR+a84u7g7NuHm91VIR06Q41kMWDr2pq7Zo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/4.20.0/algoliasearch-lite.umd.js" integrity="sha256-DABVk+hYj0mdUzo+7ViJC6cwLahQIejFvC+my2M/wfM=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/4.60.0/instantsearch.production.min.js" integrity="sha256-9242vN47QUX50UG5Gf5XDO1YREWCEJRyXHofh5fsl24=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script>




  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>


  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"TVx6Wkfs8VJGOwYPurtjWY2e-9Nh9j0Va","app_key":"c7VvaRnyF8r3DUIPq1x2KJ7Q","server_url":"https://tvx6wkfs.lc-cn-e1-shared.com","security":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://www.xiaoyeshiyu.com/post/c2140f2a.html"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"xiaoyeshiyu","count":false,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
